20190613-AWS-Summit-Tokyo-2019.md
-----

### 概要

* AWS Summit Tokyo
* 2019 年 6 月 12 日 (水) 〜14 日 (金) | 幕張メッセ
* https://aws.amazon.com/jp/summits/tokyo-2019/
* (わっほー☆が参加できたのは2日目14時から20時までです)

-----

### データ分析の現場を支えるペタバイトスケール気象データレイク＆サーバレス検索システムを雲の上に作る話

* 2019年6月13日14時 セッションH
* 株式会社ウェザーニューズ 八木 綾子、武藤 直樹
* 現状、地上の観測だけで年間150TiB、衛星観測は年間300TiBにもなる
* ミッションは世界中の気象データを網羅的に観測し取り出せるようにする

#### 現状

* 既存の検索システムはIDまたは暗黙知のデータ名でしか探せない
* 欲しいデータに対してファイルの情報が過剰
    * ある地点ある時刻だけ取り出したい時に1万倍以上のデータをダウンロードしてしまう

#### AWS移行

* まずはよく使うデータ800TiBに絞って以降
* 衛星データや過去のデータなどはまだなので、まだまだデータは増える
* クエリ：時間や項目だけで無く対象の「空間」を自在に扱う必要がある
    * 単に指定地点近傍一点を取る、近くの数点を取る、川の流域を取得など

##### 講演者交代

* ここまで八木さん、ここから武藤さん

#### 元々の基幹システム移行の予定

* オンプレミスでクベツナス作ろう
* こんな大規模以降でエンジニア持つの？
* AWSいかがですか？

#### データ保存価格

* 全面オンプレミスと全部S3はだいたい一緒
* AWSの多彩なストレージタイプを使い分けるとほぼ半分になる

#### AWS構成

* データ取得はAWS Lambdaを利用、実行時間15分を超える物は別途
    * 数時間毎の相手のデータ作成が起点なので、Lambdaと相性が良い
* データレークは5次元データ(緯度経度、高さ、時間、属性)を納めたい
    * Amazon エラスティックサーチサービス(AES)を採用
* AESはファイルインデックスと全データが入った物の2つを用意
    * Lambda も2つ走らせる
*  CI/CDをデベロップブランチとステージングブランチで分ける
    * デベロップはシェルスクリプトベースにすることで柔軟性を確保
* セキュリティ：インスペクター・ガードデューティー・メイシーで機械学習ベースで保護

#### AWS以降として

* 小さくスタートできる
* データ種類に応じて選べるアーキテクチャ
* グローバル対応・耐障害性
* 並列処理・スケールアウト

#### 反省点

* AWS開発の開始時期が遅かった
    * オンプレミスをある程度開発してしまったので新機能以降に苦労した
* AWS CI/CD環境整備の必要性
    * 間違えてプロダクトのソースを触ってしまったので、CICD整備は最優先に

#### リクルート

* AWSエンジニア足りてません、海浜幕張で一緒にやりませんか？
* 幕張メッセのライブやイベントすぐに行けます！
    * ライフワークバランスは大切ですからね

-----

### 事業責任者も必見！AWS Well-Architected Frameworkのビジネスへの有効活用

* 2019年6月13日 15時 セッションH
* 株式会社サイバーエージェント 柘植 翔太 岡田 翔乃介
* TW: @shotaTuge
* Well-Architected Frameworkをシステムの移行や開発にどう貢献しているか話します
* サービスリライアビリティグループ
    * 技術本部として新技術の開発を行っている

#### 占いサービスSATORIをAWSにシステム移設

* AWSが初めてなので心配(特にネットワークやセキュリティ)
* 潜在的なリスクの可視化をしたい
* → AWS Well-Architected Framework を提案

#### AWS Well-Architected Framework とは

* 大局的な考え方とベストプラクティス集
* WEBサービスでアーキテクト Toolが実装されセルフチェックが可能に
* 最初はソリューションアーキテクチャ同席のうえ進めるのを推奨
* 基本的にはホワイトペーパー
* シルバーバレットと言えるほど強くは無いが、システムの健康診断として使える
* 監査的な使い方は望ましくない(ガバナンスのインプットには十分)
* 最後に治すのが重要

#### 導入フロー

* システム構成図と確認質問集を記入してAWSソリューションアーキテクチャとともにレビューする
* このレビューには技術責任者の出席を強く推奨
* レビューを受け取りシステム改善(移設)計画を立てる

#### 継続的なシステム改善と現場の声

* 売り上げに対する割合を技術開発費に充てる(この例では2%、好調なら3%に引き上げる)
    * 新技術の試験に予算が必要なくなった
* 課題がわかったが事業レベルでどう改善に取り組んで良いかが難しかった

##### 講演者交代

* ここからは岡田さんが担当

#### CA W-A

* AWS W-A を元に作った「プラットフォームに依存しない汎用的なフレームワーク」
* CAとしてのシステム設計/運用を体系的に学ぶことができる
* 他の技術者の課題解決法を学べる
* 導入コストが低い

#### CA W-A の実施フロー

* コンディションプレビュー
    * Googleスプレッドシート(多人数で編集できる)、GAS、Slack
        * Slack(スプレッドシートから直接投稿ができる、そして優先改善・改善推奨・よりよい項目がすぐに帰ってくる)
* レビューレポート：マスターシートにそれぞれの質問に対する改善案を書いておき、必要な部分以外を全部削って完成
    * 1ページ目に優先度別の改善項目数をサマリーとして書く
* ディスカッション＆プランニング
* 浮上した課題を改善

#### このフレームワークの価値

* 技術から事業成長を行うことができる

#### 利用者の声

* (AWS W-Aに比べて)どんな改善を行うとどのように良くなるかが具体的にあった

#### CA W-Aの今後

* 4つのサービスに導入して4つのサービスが進行中
* レポートまでは100%取得できているが、ディスカッションやプランニングは25%しかできていない
* 前回からの改善結果の集計を自動再集計したい
* 導入できるメンバーを増やしたい

-----

### DMM.comの改革とAWS

* 2019年6月13日 16時 セッションI I02-07
* 合同会社DMM.com 松本 勇気
* 組織を牽引する・改革する立場の方向けに、AWSがいかなる改善をもたらすかDMM.comの事例を話す

#### DMM.com の紹介

* サービスは40以上(毎月新規授業撤退があるので詳細な数は不明)
* デジタル配信(動画・電子書籍)・ゲーム事業・EC(通販・DVDレンタル・色々レンタル)、英会話、オンラインサロン、.make(コワーキングスペース)、新規事業(暗号通貨、消防車制作、プログラミングスクール、お葬式、自動車買い取り)
* 東京大学との共同研究、RealTime音声変換

#### 入社時点での課題

* 20年動いたコードなので複雑度が上昇
* 事業部と開発部が分かれていて、受発注の関係になっている(技術による事業改善の流れが不足)
* 各事業部が独立していてコミュニティが少ない
* 自分の思いとして「現在の事業はデータが中心にあるべき」

#### テックカンパニーとは

* 技術・ソフトウェアドリブン(全ての事業はソフトウェアから)
* データドリブン：計測と事業モデリング(定量的客観的科学的に)、個別最適化(改善を自動化して全事業へ適用する)
* アジリティ：ABテストの積み上げで確実に改善を積み上げる、失敗を許容する、また失敗をリカバリーできるようにする

#### DMM Tech Vision

* 当たり前を作り続ける：ベストプラクティス(集合知)を使い続ける、
* Tech Value : 素早く挑戦し失敗を許容できる、技術者に対して魅力てきになる、透明性を高く成長できるようにする

#### アジリティとAWS

##### 現状

* 失敗を許容するアーキテクチャを作る
* システムの複雑度が高い(コード・ネットワークの依存性が高い)
* 巨大なモノリス(複数事業が一つのシステムに乗るため、改修の不具合が横断して影響)
* 毒刃化した運用(知っている人しか触れない)

##### こう変えたい

* 良い施策が素早くユーザーに届く開発チームと開発フロー設計
* 特定のレールに乗っかることで、事前に問題が起きないシステム構成に導く
* モダン化
* 小さなシステム : ミスひとつあたりのセキュリティ等影響範囲を小さくする(単に細かくするのでなく適切な粒度にする)

##### 具体的な取り込み

* 横断SRE部立ち上げ : AWSの活動事例を集める
* オンプレ / AWS最適化 : 運用の人的コスト削減(特にマネージドを重視、みんなが改善する)、運用における自動化を推進、柔軟なスケールと改善速度担保
* 監視の自動化

#### AWSを選んだ理由

* 豊富なマネージドサービスの存在
* 移行の手厚いサポートや社内教育
* 個人的にこれまでAWSを使っていたので

#### 事例 : 電子書籍のAWS以降

* 年間25億PV、100億円越え
* 移行前のアーキテクチャ : 共通基盤の大量のデータベースやAPIサーバについて「本気で書くとネットワークがおぞましくなるので省略しました」
* 移行後のアーキテクチャ : 現状マネージドサービスが無いものをEC2上に立てる、共通基盤利用はダイレクトコネクト

#### 既存事業のAWS以降による効果

* AWSアーキテクチャに相談 : 障害対応フローを刷新すべき、各種障害ポイントの洗い出しとアクションの策定
* 監視とスケーリングで夜寝られるように、ブルーグリーンデプロイでリリースとロールバックの効率が増加
* クライアントから発生するログを、Redashからオンプレの機械学習用データとAWSアテナの両方に送信することにより簡易なデータ解析もできるようになった

#### AWS実弾演習場

* AWS オーガニゼーションで社員個別にアカウントを発行し月100ドルまでの検証を会社負担に
* 新卒教育のカリキュラムにAWSトレーニングを活用
    * AWSテクニカルエッセンシャル2とアーキテクニング on AWS を利用

#### AWSとの連携で、成長できるDMMへ

#### 最後に

* より「なんでもあり」なDMMへ

-----

### re:Mix

* 司会 池澤あやか
* アマゾン ウェブ サービス ジャパン株式会社 技術統括本部部長 ソリューションアーキテクト 清水崇之
* JAWS-UGの皆さん、ファンのみなさんの交流の場です
* 乾杯の前にイベントの流れを紹介です
* 19:00 JAWS-UG特別セッション
* 19:15 AWS DeepRacer 特別セッション
* 19:30 AWSウルトラクイズ
    * 3名様に re:Invent チケット(1799ドル)進呈
* 乾杯 AWSJ代表取締役「re:Mixへようこそ、そしてAWS Summitへようこそ」
    * 「JAWS-UGの皆さんが私たちの力が及ばない所でもサポートしていただきました」

------

#### JAWS-UG特別セッション

##### メディアJAWS

* だんの ゆういちろう さん
* 新支部の紹介、今年4月に設立
* メディア特有のサービス用件、急激なトラフィック・画像処理・セキュリティ対策などメディア特有の性質が求められるサービス
* 第0回 : 3月20日にJAWS-UG横浜内にて開催
* 第1回 : 正式爆誕記念スペシャル
* 第2回 : 6月12日 re:Late
* 第3回 : 9月4日開催予定 初心者の学び促進
    * 登壇者募集中！
* メディア業界を盛り上げる参加者運営メンバー絶賛募集中！

##### AWS Asian Women's Association

* いとう ひろみさん
* とある女性が海を渡っていく話です
* 女性主体の活動は女性だけが関わる問題では無いです
* また日本で起きている問題は日本だけの問題では無いはずです
* 「世界に届け！IT女子パワー」
* 日本の他にシンガポール・タイなどに支部があります
* 深いコミュニケーションやディスカッションはランチブレイクとアフターパーティーで
* 延々とSlackで会話が続くのでオフラインで会うのも大切です
* 次は(雨期でない)タイで開催予定です!

##### その3

* JAWS-UGは小さな勉強会の集まりで成り立ってます
* でも年に2回みんなが集まります
    * 東京版JAWS DAYS 今年は2450人
    * 地方版JAWS FESTAは 今年は秋に札幌で開催します
* 皆さん勉強会に参加しましょう
* そして一度は登壇をご検討ください
* 100回の勉強会参加より1回の登壇を大切にしています

-----

#### AWS DeepRacer

* (会場内のサーキットからの中継)音が無いよ！
* スイッチが入ってませんでした
* カメラや各種センサー、バッテリーやプロセッサを内蔵した完全自立型のRCカー
* AWSのアカウントでログイン→機械学習用モデルを作る→バーチャルコースを走る→実際のサーキット(JAPAN会場はAWS Summitの一角)→全世界の予選突破者はre:Inventで決勝大会！
* 池澤あやかさんの実演は17.32秒
* 2日目までの1位は7.440秒、2位7.700秒、3位は7.86秒
* 3日目もやるのでよろしく！

-----

#### AWS ウルトラクイズ

* 練習問題 : re:Inventの開催場所は？ラスベガス、サンタクララ、シアトル
    * A : ラスベガス

1. Q : AWS DeepRacer , AWS Snowmobile , AWS ロボメーカー
    * A : AWS DeepRacer
1. Q : 初回サンタクララの優勝タイムは？ 10.41 , 10.42 . 10.43
    * A : 10.43秒
1. Q : AWS漫画七転び八起きの初回は？ クラウド9 , ライトセイル , クイックサイト
    * A : ライトセイル
1. Q : 漫画のSAの名前は？ 品川はじめ , 大崎はじめ , 目黒はじめ
    * A : 目黒はじめ
1. Q : 機械学習用の効率を2倍にするサービスは？ セージメーカーネオ , セージメーカーニアレストレイバー , セージメーカーグランドトゥルース
    * A : セージメーカーネオ
1. Q : AWSリージョン ap-サウス はどこ？ シドニー , ムンバイ , シンガポール
    * A : ムンバイ
1. Q : スポットインスタンスの中断通知は何秒前に来る？ 60秒 ,  90秒 ,  120秒
    * A : 120秒

* 丁度3人決まりました！
* 優勝者のコメント
    * 「最後の問題が簡単すぎて実感無いです」
    * 「これでブログを書かなくて良くなりました」(クラスメソッドの方？)
* それでは今年のre:Mixは名残惜しいですがここまでです、また明日AWS Summitでお会いしましょう！
